<h1>Notifications</h1>

  <% if @current_user.invites.any? %>
    <p>You have <%= pluralize @current_user.invites.count, "match" %></p>

    <%= render "invites/invites_button" %>

    <% @current_user.invites.where.not(status:'declined').each do |invite| %>
      <p><li><%= cl_image_tag invite.second_user.photo.key, height: 50, width: 50, crop: :fill %>
        <strong><%= link_to invite.second_user.firstname, user_path(invite.second_user) %></strong> sends you an invite

        <% if invite.status == "pending"  %>
          <%= link_to "Accept", accept_path(invite), data: {turbo_method: :patch} %>
          <%= link_to "Decline", decline_path(invite), data: {turbo_method: :patch} %>
        <% elsif invite.status == "accepted" %>
          <%= link_to "#" do %>
          <i class="fa-solid fa-envelope"></i>
          <% end %>
        <% end %>
      </li></p>
    <% end %>

<% else %>
  <p>Waiting for a match <i class="fa-solid fa-fire"></i></p>
<% end %>
